runtime: container
build:
  dockerfile: Dockerfile
  dockerBuildPath: .
startCommand:
  type: http
  env:
    TRANSPORT: http
configSchema:
  type: object
  # Allow extra keys for auth/providers coming from Test profile
  additionalProperties: true
  properties:
    browserUrl:
      type: string
      format: uri
      description: 'Existing Chrome WebSocket debugging URL to connect to.'
    headless:
      type: boolean
      description: 'Run Chrome in headless mode.'
      default: true
    executablePath:
      type: string
      description: 'Absolute path to a Chrome executable inside the container.'
    isolated:
      type: boolean
      description: 'Launch Chrome with an isolated user data dir.'
      default: true
    customDevtools:
      type: string
      description: 'Path to a custom DevTools frontend bundle.'
    channel:
      type: string
      enum: ['stable', 'beta', 'canary', 'dev']
      description: 'Chrome channel to use when launching the bundled browser.'
    logFile:
      type: string
      description: 'Optional path inside the container where debug logs should be written.'
    viewport:
      type: string
      description: 'Viewport size for launched Chrome instances, for example 1280x720.'
    proxyServer:
      type: string
      description: 'Proxy server definition to forward Chrome network traffic through.'
    acceptInsecureCerts:
      type: boolean
      description: 'Ignore TLS certificate errors when launching Chrome.'
    experimentalDevtools:
      type: boolean
      description: 'Enable DevTools automation targets (experimental).'
    chromeArg:
      type: array
      description: 'Additional command-line switches to pass to Chrome.'
      items:
        type: string
    browserbase:
      type: object
      description: 'Launch a remote Chrome via Browserbase (scanner-friendly).'
      additionalProperties: false
      properties:
        apiKey:
          type: string
          description: 'Browserbase API key used to create sessions.'
        projectId:
          type: string
          description: 'Browserbase project ID to associate sessions with.'
        contextId:
          type: string
          description: 'Optional persistent context ID.'
        persist:
          type: boolean
          description: 'Whether to persist the Browserbase context.'
          default: true
exampleConfig:
  channel: stable
  headless: true
  isolated: true
  viewport: '1280x720'
  browserbase:
    # apiKey is provided via Test profile or secret store â€” do not hardcode
    projectId: 'bc914a3df39095025464368c5cabf0af8ae97b1f'
    persist: true
